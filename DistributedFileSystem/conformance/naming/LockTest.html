<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc (1.8.0_222) on Sun Oct 20 19:39:54 AST 2019 -->
<title>LockTest</title>
<meta name="date" content="2019-10-20">
<link rel="stylesheet" type="text/css" href="../../stylesheet.css" title="Style">
<script type="text/javascript" src="../../script.js"></script>
</head>
<body>
<script type="text/javascript"><!--
    try {
        if (location.href.indexOf('is-external=true') == -1) {
            parent.document.title="LockTest";
        }
    }
    catch(err) {
    }
//-->
var methods = {"i0":10,"i1":10,"i2":10,"i3":10,"i4":10,"i5":10,"i6":10};
var tabs = {65535:["t0","All Methods"],2:["t2","Instance Methods"],8:["t4","Concrete Methods"]};
var altColor = "altColor";
var rowColor = "rowColor";
var tableTab = "tableTab";
var activeTableTab = "activeTableTab";
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar.top">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.top" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.top.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../index-all.html">Index</a></li>
<li><a href="../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../conformance/naming/ListingTest.html" title="class in conformance.naming"><span class="typeNameLink">Prev&nbsp;Class</span></a></li>
<li><a href="../../conformance/naming/LockTest.FirstExclusiveUser.html" title="class in conformance.naming"><span class="typeNameLink">Next&nbsp;Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../index.html?conformance/naming/LockTest.html" target="_top">Frames</a></li>
<li><a href="LockTest.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li><a href="#nested.class.summary">Nested</a>&nbsp;|&nbsp;</li>
<li><a href="#field.summary">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li><a href="#field.detail">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="subTitle">conformance.naming</div>
<h2 title="Class LockTest" class="title">Class LockTest</h2>
</div>
<div class="contentContainer">
<ul class="inheritance">
<li>java.lang.Object</li>
<li>
<ul class="inheritance">
<li><a href="../../test/Test.html" title="class in test">test.Test</a></li>
<li>
<ul class="inheritance">
<li><a href="../../conformance/naming/NamingTest.html" title="class in conformance.naming">conformance.naming.NamingTest</a></li>
<li>
<ul class="inheritance">
<li>conformance.naming.LockTest</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>
<div class="description">
<ul class="blockList">
<li class="blockList">
<hr>
<br>
<pre>public class <span class="typeNameLabel">LockTest</span>
extends <a href="../../conformance/naming/NamingTest.html" title="class in conformance.naming">NamingTest</a></pre>
<div class="block">Tests basic functioning of the naming server <code>lock</code> and
    <code>unlock</code> methods.

    <p>
    Properties checked are:
    <ul>
    <li>The <code>lock</code> and <code>unlock</code> methods reject
        <code>null</code> paths and paths to non-existent objects.</li>
    <li>A lock cannot be taken simultaneously for exclusive access by one
        thread, and any kind of access by another.</li>
    <li>A lock can be taken for shared access by two threads at once.</li>
    <li>Two threads can obtain exclusive access to siblings in the directory
        tree simultaneously.</li>
    <li>Taking an exclusive lock on an object prevents child objects from being
        locked.</li>
    </ul></div>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- ======== NESTED CLASS SUMMARY ======== -->
<ul class="blockList">
<li class="blockList"><a name="nested.class.summary">
<!--   -->
</a>
<h3>Nested Class Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Nested Class Summary table, listing nested classes, and an explanation">
<caption><span>Nested Classes</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Class and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>private class&nbsp;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../conformance/naming/LockTest.FirstExclusiveUser.html" title="class in conformance.naming">LockTest.FirstExclusiveUser</a></span></code>
<div class="block">First thread in the exclusive access test.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>private class&nbsp;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../conformance/naming/LockTest.LockUser.html" title="class in conformance.naming">LockTest.LockUser</a></span></code>
<div class="block">Base class of threads used for both the rendezvous and the exclusive
        access tests.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>private class&nbsp;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../conformance/naming/LockTest.RendezvousUser.html" title="class in conformance.naming">LockTest.RendezvousUser</a></span></code>
<div class="block">Rendezvous test thread.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>private class&nbsp;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../conformance/naming/LockTest.SecondExclusiveUser.html" title="class in conformance.naming">LockTest.SecondExclusiveUser</a></span></code>
<div class="block">Second thread in the exclusive access test.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>private class&nbsp;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../conformance/naming/LockTest.WakeTask.html" title="class in conformance.naming">LockTest.WakeTask</a></span></code>
<div class="block">Wakes the first thread in the exclusive access test.</div>
</td>
</tr>
</table>
</li>
</ul>
<!-- =========== FIELD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="field.summary">
<!--   -->
</a>
<h3>Field Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Field Summary table, listing fields, and an explanation">
<caption><span>Fields</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Field and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>private <a href="../../common/Path.html" title="class in common">Path</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../conformance/naming/LockTest.html#directory">directory</a></span></code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>private boolean</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../conformance/naming/LockTest.html#exclusive_finished">exclusive_finished</a></span></code>
<div class="block">Indicates that the second thread has released the lock, and therefore
        the exclusive access test is finished.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>private boolean</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../conformance/naming/LockTest.html#exclusive_locked">exclusive_locked</a></span></code>
<div class="block">Indicates that the first thread in the exclusive access test has taken
        the lock, and therefore the second thread may go on with its attempt to
        take it as well.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>private boolean</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../conformance/naming/LockTest.html#exclusive_resume">exclusive_resume</a></span></code>
<div class="block">Indicates that the first thread in the exclusive access test has
        released the lock.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>private static int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../conformance/naming/LockTest.html#EXCLUSIVE_TEST_DELAY">EXCLUSIVE_TEST_DELAY</a></span></code>
<div class="block">Minimum amount of time, in milliseconds, that the first thread in the
        exclusive access test holds the lock before releasing it.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>private <a href="../../common/Path.html" title="class in common">Path</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../conformance/naming/LockTest.html#file1">file1</a></span></code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>private <a href="../../common/Path.html" title="class in common">Path</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../conformance/naming/LockTest.html#file2">file2</a></span></code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>static java.lang.String</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../conformance/naming/LockTest.html#notice">notice</a></span></code>
<div class="block">Test notice.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>static java.lang.Class[]</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../conformance/naming/LockTest.html#prerequisites">prerequisites</a></span></code>
<div class="block">Prerequisites.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>private int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../conformance/naming/LockTest.html#rendezvous_exits">rendezvous_exits</a></span></code>
<div class="block">Number of threads that have completed the rendezvous test.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>private boolean</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../conformance/naming/LockTest.html#rendezvous_wait">rendezvous_wait</a></span></code>
<div class="block">For a rendezvous test, indicates that the next thread to take the lock
        is the first thread and should wait for the second.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>private boolean</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../conformance/naming/LockTest.html#rendezvous_wake">rendezvous_wake</a></span></code>
<div class="block">Indicates that the second thread successfully took the lock in the
        rendzevous test.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>private <a href="../../common/Path.html" title="class in common">Path</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../conformance/naming/LockTest.html#root">root</a></span></code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>private <a href="../../conformance/naming/TestStorageServer.html" title="class in conformance.naming">TestStorageServer</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../conformance/naming/LockTest.html#storage_server">storage_server</a></span></code>
<div class="block">Storage server used in the test.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>private boolean</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../conformance/naming/LockTest.html#wake_all">wake_all</a></span></code>
<div class="block">Indicates that the test has completed and all waits are cancelled.</div>
</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a name="fields.inherited.from.class.conformance.naming.NamingTest">
<!--   -->
</a>
<h3>Fields inherited from class&nbsp;conformance.naming.<a href="../../conformance/naming/NamingTest.html" title="class in conformance.naming">NamingTest</a></h3>
<code><a href="../../conformance/naming/NamingTest.html#registration_stub">registration_stub</a>, <a href="../../conformance/naming/NamingTest.html#service_stub">service_stub</a></code></li>
</ul>
</li>
</ul>
<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor.summary">
<!--   -->
</a>
<h3>Constructor Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Constructor Summary table, listing constructors, and an explanation">
<caption><span>Constructors</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colOne" scope="col">Constructor and Description</th>
</tr>
<tr class="altColor">
<td class="colOne"><code><span class="memberNameLink"><a href="../../conformance/naming/LockTest.html#LockTest--">LockTest</a></span>()</code>&nbsp;</td>
</tr>
</table>
</li>
</ul>
<!-- ========== METHOD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="method.summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Method Summary table, listing methods, and an explanation">
<caption><span id="t0" class="activeTableTab"><span>All Methods</span><span class="tabEnd">&nbsp;</span></span><span id="t2" class="tableTab"><span><a href="javascript:show(2);">Instance Methods</a></span><span class="tabEnd">&nbsp;</span></span><span id="t4" class="tableTab"><span><a href="javascript:show(8);">Concrete Methods</a></span><span class="tabEnd">&nbsp;</span></span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Method and Description</th>
</tr>
<tr id="i0" class="altColor">
<td class="colFirst"><code>private java.lang.String</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../conformance/naming/LockTest.html#accessType-boolean-">accessType</a></span>(boolean&nbsp;exclusive)</code>
<div class="block">Returns a string describing the type of access requested.</div>
</td>
</tr>
<tr id="i1" class="rowColor">
<td class="colFirst"><code>protected void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../conformance/naming/LockTest.html#clean--">clean</a></span>()</code>
<div class="block">Stops all servers and wakes all threads.</div>
</td>
</tr>
<tr id="i2" class="altColor">
<td class="colFirst"><code>protected void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../conformance/naming/LockTest.html#initialize--">initialize</a></span>()</code>
<div class="block">Initializes the test.</div>
</td>
</tr>
<tr id="i3" class="rowColor">
<td class="colFirst"><code>protected void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../conformance/naming/LockTest.html#perform--">perform</a></span>()</code>
<div class="block">Performs the test.</div>
</td>
</tr>
<tr id="i4" class="altColor">
<td class="colFirst"><code>private void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../conformance/naming/LockTest.html#testBadPaths--">testBadPaths</a></span>()</code>
<div class="block">Checks that the <code>lock</code> and <code>unlock</code> methods
        reject bad arguments.</div>
</td>
</tr>
<tr id="i5" class="rowColor">
<td class="colFirst"><code>private void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../conformance/naming/LockTest.html#testExclusion-common.Path-boolean-common.Path-boolean-">testExclusion</a></span>(<a href="../../common/Path.html" title="class in common">Path</a>&nbsp;first_path,
             boolean&nbsp;first_exclusive,
             <a href="../../common/Path.html" title="class in common">Path</a>&nbsp;second_path,
             boolean&nbsp;second_exclusive)</code>
<div class="block">Checks that two threads are not able to simultaneously lock the two
        given objects for the requested kinds of access.</div>
</td>
</tr>
<tr id="i6" class="altColor">
<td class="colFirst"><code>private void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../conformance/naming/LockTest.html#testSharing-common.Path-boolean-common.Path-boolean-">testSharing</a></span>(<a href="../../common/Path.html" title="class in common">Path</a>&nbsp;first_path,
           boolean&nbsp;first_exclusive,
           <a href="../../common/Path.html" title="class in common">Path</a>&nbsp;second_path,
           boolean&nbsp;second_exclusive)</code>
<div class="block">Checks that two threads are able to lock the two given paths
        simultaneously for the requested kind of access.</div>
</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a name="methods.inherited.from.class.test.Test">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;test.<a href="../../test/Test.html" title="class in test">Test</a></h3>
<code><a href="../../test/Test.html#cleanupFailure-java.lang.Throwable-">cleanupFailure</a>, <a href="../../test/Test.html#cleanupSuccess--">cleanupSuccess</a>, <a href="../../test/Test.html#failure-java.lang.Throwable-">failure</a>, <a href="../../test/Test.html#success--">success</a>, <a href="../../test/Test.html#task--">task</a>, <a href="../../test/Test.html#task-java.lang.String-">task</a></code></li>
</ul>
<ul class="blockList">
<li class="blockList"><a name="methods.inherited.from.class.java.lang.Object">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;java.lang.Object</h3>
<code>clone, equals, finalize, getClass, hashCode, notify, notifyAll, toString, wait, wait, wait</code></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ============ FIELD DETAIL =========== -->
<ul class="blockList">
<li class="blockList"><a name="field.detail">
<!--   -->
</a>
<h3>Field Detail</h3>
<a name="notice">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>notice</h4>
<pre>public static final&nbsp;java.lang.String notice</pre>
<div class="block">Test notice.</div>
<dl>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../constant-values.html#conformance.naming.LockTest.notice">Constant Field Values</a></dd>
</dl>
</li>
</ul>
<a name="prerequisites">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>prerequisites</h4>
<pre>public static final&nbsp;java.lang.Class[] prerequisites</pre>
<div class="block">Prerequisites.</div>
</li>
</ul>
<a name="storage_server">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>storage_server</h4>
<pre>private&nbsp;<a href="../../conformance/naming/TestStorageServer.html" title="class in conformance.naming">TestStorageServer</a> storage_server</pre>
<div class="block">Storage server used in the test. The purpose of this storage server is
        merely to register some files. It is not used otherwise.</div>
</li>
</ul>
<a name="root">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>root</h4>
<pre>private final&nbsp;<a href="../../common/Path.html" title="class in common">Path</a> root</pre>
</li>
</ul>
<a name="directory">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>directory</h4>
<pre>private final&nbsp;<a href="../../common/Path.html" title="class in common">Path</a> directory</pre>
</li>
</ul>
<a name="file1">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>file1</h4>
<pre>private final&nbsp;<a href="../../common/Path.html" title="class in common">Path</a> file1</pre>
</li>
</ul>
<a name="file2">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>file2</h4>
<pre>private final&nbsp;<a href="../../common/Path.html" title="class in common">Path</a> file2</pre>
</li>
</ul>
<a name="rendezvous_wait">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>rendezvous_wait</h4>
<pre>private&nbsp;boolean rendezvous_wait</pre>
<div class="block">For a rendezvous test, indicates that the next thread to take the lock
        is the first thread and should wait for the second.</div>
</li>
</ul>
<a name="rendezvous_wake">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>rendezvous_wake</h4>
<pre>private&nbsp;boolean rendezvous_wake</pre>
<div class="block">Indicates that the second thread successfully took the lock in the
        rendzevous test.</div>
</li>
</ul>
<a name="rendezvous_exits">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>rendezvous_exits</h4>
<pre>private&nbsp;int rendezvous_exits</pre>
<div class="block">Number of threads that have completed the rendezvous test. The main
        testing thread waits until this number is equal to two.</div>
</li>
</ul>
<a name="exclusive_locked">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>exclusive_locked</h4>
<pre>private&nbsp;boolean exclusive_locked</pre>
<div class="block">Indicates that the first thread in the exclusive access test has taken
        the lock, and therefore the second thread may go on with its attempt to
        take it as well.</div>
</li>
</ul>
<a name="exclusive_resume">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>exclusive_resume</h4>
<pre>private&nbsp;boolean exclusive_resume</pre>
<div class="block">Indicates that the first thread in the exclusive access test has
        released the lock. If the second thread is able to take the lock while
        this field is false, the two threads were able to take the lock at the
        same time.</div>
</li>
</ul>
<a name="exclusive_finished">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>exclusive_finished</h4>
<pre>private&nbsp;boolean exclusive_finished</pre>
<div class="block">Indicates that the second thread has released the lock, and therefore
        the exclusive access test is finished.</div>
</li>
</ul>
<a name="EXCLUSIVE_TEST_DELAY">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>EXCLUSIVE_TEST_DELAY</h4>
<pre>private static final&nbsp;int EXCLUSIVE_TEST_DELAY</pre>
<div class="block">Minimum amount of time, in milliseconds, that the first thread in the
        exclusive access test holds the lock before releasing it. This delay is
        long enough to make it very likely that the second thread will try to
        take the lock while the first thread still holds it.</div>
<dl>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../constant-values.html#conformance.naming.LockTest.EXCLUSIVE_TEST_DELAY">Constant Field Values</a></dd>
</dl>
</li>
</ul>
<a name="wake_all">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>wake_all</h4>
<pre>private&nbsp;boolean wake_all</pre>
<div class="block">Indicates that the test has completed and all waits are cancelled.</div>
</li>
</ul>
</li>
</ul>
<!-- ========= CONSTRUCTOR DETAIL ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor.detail">
<!--   -->
</a>
<h3>Constructor Detail</h3>
<a name="LockTest--">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>LockTest</h4>
<pre>public&nbsp;LockTest()</pre>
</li>
</ul>
</li>
</ul>
<!-- ============ METHOD DETAIL ========== -->
<ul class="blockList">
<li class="blockList"><a name="method.detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a name="perform--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>perform</h4>
<pre>protected&nbsp;void&nbsp;perform()
                throws <a href="../../test/TestFailed.html" title="class in test">TestFailed</a></pre>
<div class="block">Performs the test.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../test/Test.html#perform--">perform</a></code>&nbsp;in class&nbsp;<code><a href="../../test/Test.html" title="class in test">Test</a></code></dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../test/TestFailed.html" title="class in test">TestFailed</a></code></dd>
</dl>
</li>
</ul>
<a name="testSharing-common.Path-boolean-common.Path-boolean-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>testSharing</h4>
<pre>private&nbsp;void&nbsp;testSharing(<a href="../../common/Path.html" title="class in common">Path</a>&nbsp;first_path,
                         boolean&nbsp;first_exclusive,
                         <a href="../../common/Path.html" title="class in common">Path</a>&nbsp;second_path,
                         boolean&nbsp;second_exclusive)</pre>
<div class="block">Checks that two threads are able to lock the two given paths
        simultaneously for the requested kind of access.

        <p>
        Two threads are started, and each attempts to lock its given object. In
        order for the test to succeed, the two threads must rendezvous with the
        lock taken. The first thread to lock an object waits for the second
        thread to also lock its object. Only after both threads have
        successfully locked both their objects are they allowed to proceed. The
        test is successful when both threads have unlocked their respective
        objects.

        <p>
        The code run by the two threads is identical. What determines their
        behavior (whether to wait for the second thread, or to wake the first)
        is the order in which they take the lock.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>first_path</code> - Path to the object to be locked by the first thread.</dd>
<dd><code>first_exclusive</code> - <code>true</code> if the first thread is to take
                               its object for exclusive access,
                               <code>false</code> if the first thread is to
                               request shared access.</dd>
<dd><code>second_path</code> - Path to the object to be locked by the second thread.</dd>
<dd><code>second_exclusive</code> - <code>true</code> if the second thread is to
                                take its object for exclusive access,
                                <code>false</code> if the second thread is to
                                request shared access.</dd>
</dl>
</li>
</ul>
<a name="testExclusion-common.Path-boolean-common.Path-boolean-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>testExclusion</h4>
<pre>private&nbsp;void&nbsp;testExclusion(<a href="../../common/Path.html" title="class in common">Path</a>&nbsp;first_path,
                           boolean&nbsp;first_exclusive,
                           <a href="../../common/Path.html" title="class in common">Path</a>&nbsp;second_path,
                           boolean&nbsp;second_exclusive)</pre>
<div class="block">Checks that two threads are not able to simultaneously lock the two
        given objects for the requested kinds of access.

        <p>
        Two threads are started. Unlike in the rendzevous test, the two threads
        are different. There is a thread that is intended to be the first to
        lock its object, and the other thread should be second. The second
        thread waits until the first thread signals it has locked its object.
        In the meantime, the first thread sleeps for a fixed minimum amount of
        time, in order to make it very likely that the second thread will
        attempt to lock its object after it is done waiting for the first. If
        the second thread is able to successfully lock its object during this
        delay, then the test has failed.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>first_path</code> - Path to the object to be locked by the first thread.</dd>
<dd><code>first_exclusive</code> - <code>true</code> if the first thread is to take
                               its object for exclusive access,
                               <code>false</code> if the first thread is to
                               request shared access.</dd>
<dd><code>second_path</code> - Path to the object to be locked by the second thread.</dd>
<dd><code>second_exclusive</code> - <code>true</code> if the second thread is to
                                take its object for exclusive access,
                                <code>false</code> if the second thread is to
                                request shared access.</dd>
</dl>
</li>
</ul>
<a name="accessType-boolean-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>accessType</h4>
<pre>private&nbsp;java.lang.String&nbsp;accessType(boolean&nbsp;exclusive)</pre>
<div class="block">Returns a string describing the type of access requested.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>exclusive</code> - Access type.</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd><code>"exclusive"</code> if the argument is <code>true</code>,
                <code>"shared"</code> if the argument is <code>false</code>.</dd>
</dl>
</li>
</ul>
<a name="testBadPaths--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>testBadPaths</h4>
<pre>private&nbsp;void&nbsp;testBadPaths()
                   throws <a href="../../test/TestFailed.html" title="class in test">TestFailed</a></pre>
<div class="block">Checks that the <code>lock</code> and <code>unlock</code> methods
        reject bad arguments.</div>
<dl>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../test/TestFailed.html" title="class in test">TestFailed</a></code></dd>
</dl>
</li>
</ul>
<a name="initialize--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>initialize</h4>
<pre>protected&nbsp;void&nbsp;initialize()
                   throws <a href="../../test/TestFailed.html" title="class in test">TestFailed</a></pre>
<div class="block">Initializes the test.

        <p>
        This method starts the storage server, creating a small directory tree
        on the naming server.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Overrides:</span></dt>
<dd><code><a href="../../conformance/naming/NamingTest.html#initialize--">initialize</a></code>&nbsp;in class&nbsp;<code><a href="../../conformance/naming/NamingTest.html" title="class in conformance.naming">NamingTest</a></code></dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../test/TestFailed.html" title="class in test">TestFailed</a></code> - If the storage server cannot be started.</dd>
</dl>
</li>
</ul>
<a name="clean--">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>clean</h4>
<pre>protected&nbsp;void&nbsp;clean()</pre>
<div class="block">Stops all servers and wakes all threads.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Overrides:</span></dt>
<dd><code><a href="../../conformance/naming/NamingTest.html#clean--">clean</a></code>&nbsp;in class&nbsp;<code><a href="../../conformance/naming/NamingTest.html" title="class in conformance.naming">NamingTest</a></code></dd>
</dl>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<!-- ========= END OF CLASS DATA ========= -->
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar.bottom">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.bottom" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.bottom.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../index-all.html">Index</a></li>
<li><a href="../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../conformance/naming/ListingTest.html" title="class in conformance.naming"><span class="typeNameLink">Prev&nbsp;Class</span></a></li>
<li><a href="../../conformance/naming/LockTest.FirstExclusiveUser.html" title="class in conformance.naming"><span class="typeNameLink">Next&nbsp;Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../index.html?conformance/naming/LockTest.html" target="_top">Frames</a></li>
<li><a href="LockTest.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li><a href="#nested.class.summary">Nested</a>&nbsp;|&nbsp;</li>
<li><a href="#field.summary">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li><a href="#field.detail">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
</body>
</html>
